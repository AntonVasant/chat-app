<web-app>
    <session-config>
        <session-timeout>60</session-timeout>
    </session-config>

    <servlet>
        <servlet-name>MyServlet</servlet-name>
        <servlet-class>MyServlet</servlet-class>
    </servlet>

    <servlet-mapping>
        <servlet-name>MyServlet</servlet-name>
        <url-pattern>/login</url-pattern>
    </servlet-mapping>

    <servlet>
        <servlet-name>SignUpServlet</servlet-name>
        <servlet-class>SignUpServlet</servlet-class>
    </servlet>

    <servlet-mapping>
        <servlet-name>SignUpServlet</servlet-name>
        <url-pattern>/signup</url-pattern>
    </servlet-mapping>

    <servlet>
        <servlet-name>SessionCheck</servlet-name>
        <servlet-class>SessionCheck</servlet-class>
    </servlet>

    <servlet-mapping>
        <servlet-name>SessionCheck</servlet-name>
        <url-pattern>/session</url-pattern>
    </servlet-mapping>

    <servlet>
        <servlet-name>CheckUser</servlet-name>
        <servlet-class>CheckUser</servlet-class>
    </servlet>

    <servlet-mapping>
        <servlet-name>CheckUser</servlet-name>
        <url-pattern>/checkUser</url-pattern>
    </servlet-mapping>

    <dependency>
        <groupId>jakarta.websocket</groupId>
        <artifactId>jakarta.websocket-api</artifactId>
        <version>2.0.0</version>
    </dependency>


    <servlet>
        <servlet-name>LogOutServlet</servlet-name>
        <servlet-class>LogOutServlet</servlet-class>
    </servlet>

    <servlet-mapping>
        <servlet-name>LogOutServlet</servlet-name>
        <url-pattern>/signout</url-pattern>
    </servlet-mapping>

    <servlet>
        <servlet-name>SaveMessages</servlet-name>
        <servlet-class>SaveMessages</servlet-class>
    </servlet>

    <servlet-mapping>
        <servlet-name>SaveMessages</servlet-name>
        <url-pattern>/save</url-pattern>
    </servlet-mapping>

    <servlet>
        <servlet-name>LoadMessages</servlet-name>
        <servlet-class>LoadMessages</servlet-class>
    </servlet>

    <servlet-mapping>
        <servlet-name>LoadMessages</servlet-name>
        <url-pattern>/load</url-pattern>
    </servlet-mapping>


    <servlet>
        <servlet-name>CheckNotification</servlet-name>
        <servlet-class>CheckNotification</servlet-class>
    </servlet>

    <servlet-mapping>
        <servlet-name>CheckNotification</servlet-name>
        <url-pattern>/unreadMessages</url-pattern>
    </servlet-mapping>


    <servlet>
        <servlet-name>ChatHistoryServlet</servlet-name>
        <servlet-class>ChatHistoryServlet</servlet-class>
    </servlet>

    <servlet-mapping>
        <servlet-name>ChatHistoryServlet</servlet-name>
        <url-pattern>/chats</url-pattern>
    </servlet-mapping>
    <servlet>
        <servlet-name>GetUserId</servlet-name>
        <servlet-class>GetUserId</servlet-class>
    </servlet>

    <servlet-mapping>
        <servlet-name>GetUserId</servlet-name>
        <url-pattern>/user</url-pattern>
    </servlet-mapping>

    <servlet>
        <servlet-name>NotificationManager</servlet-name>
        <servlet-class>NotificationManager</servlet-class>
    </servlet>

    <servlet-mapping>
        <servlet-name>NotificationManager</servlet-name>
        <url-pattern>/notification</url-pattern>
    </servlet-mapping>


    <filter>
        <filter-name>CORS</filter-name>
        <filter-class>org.apache.catalina.filters.CorsFilter</filter-class>
        <init-param>
            <param-name>cors.allowed.origins</param-name>
            <param-value>http://localhost:4200</param-value>
        </init-param>
        <init-param>
            <param-name>cors.allowed.methods</param-name>
            <param-value>GET,POST,HEAD,OPTIONS,PUT,DELETE</param-value>
        </init-param>
        <init-param>
            <param-name>cors.allowed.headers</param-name>
            <param-value>Content-Type, Authorization</param-value>
        </init-param>
        <init-param>
            <param-name>cors.exposed.headers</param-name>
            <param-value>Content-Type, Authorization</param-value>
        </init-param>
        <init-param>
            <param-name>cors.support.credentials</param-name>
            <param-value>true</param-value>
        </init-param>
    </filter>

    <filter-mapping>
        <filter-name>CORS</filter-name>
        <url-pattern>/*</url-pattern>
    </filter-mapping>

</web-app>